from textwrap import dedent

from aiogram import Bot, F, Router
from aiogram.filters import Command, CommandObject
from aiogram.fsm.context import FSMContext as FSM
from aiogram.types import CallbackQuery as CQ
from aiogram.types import Message as Mes

from db.queries.global_queries import check_and_add_user
from keyboards.main_kbs import back_to_info_btn, info_kb, start_kb

flags = {"throttling_key": "default"}
router = Router()


@router.callback_query(F.data == "info", flags=flags)
async def view_info_cmd(c: CQ):
    await c.message.edit_text(
        "–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–æ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç",
        reply_markup=info_kb)


@router.callback_query(F.data == "about_cards", flags=flags)
async def about_cards_cmd(c: CQ):
    txt = """
    –ö–∞–∂–¥–∞—è –∫–∞—Ä—Ç–∞ –∏–º–µ–µ—Ç —Å–≤–æ—é —Ä–µ–¥–∫–æ—Å—Ç—å –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ —Ç–≤–æ–µ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É:

    1) –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è —Ä–µ–¥–∫–æ—Å—Ç—å: –ö–∞—Ä—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç 1000 –±–∞–ª–ª–æ–≤ –∫ —Ç–≤–æ–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

    2) –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ä–µ–¥–∫–æ—Å—Ç—å: –ö–∞—Ä—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç 500 –±–∞–ª–ª–æ–≤ –∫ —Ç–≤–æ–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

    3) –≠–ø–∏—á–µ—Å–∫–∞—è —Ä–µ–¥–∫–æ—Å—Ç—å: –ö–∞—Ä—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç 250 –±–∞–ª–ª–æ–≤ –∫ —Ç–≤–æ–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

    4) –ù–µ–æ–±—ã—á–Ω–∞—è —Ä–µ–¥–∫–æ—Å—Ç—å: –ö–∞—Ä—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç 100 –±–∞–ª–ª–æ–≤ –∫ —Ç–≤–æ–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

    5) –û–±—ã—á–Ω–∞—è —Ä–µ–¥–∫–æ—Å—Ç—å: –ö–∞—Ä—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç 50 –±–∞–ª–ª–æ–≤ –∫ —Ç–≤–æ–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.
    """
    await c.message.edit_text(dedent(txt), reply_markup=back_to_info_btn)


@router.callback_query(F.data == "about_penalty", flags=flags)
async def about_penalty_cmd(c: CQ):
    txt = """
    –ò–≥—Ä–∞ –≤ –ø–µ–Ω–∞–ª—å—Ç–∏, —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –≤ OFFSIDE, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ç–µ–±–µ –Ω—É–∂–Ω–æ –∑–∞–±–∏–≤–∞—Ç—å –∏ –æ—Ç–±–∏–≤–∞—Ç—å –º—è—á–∏.

    –ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É –≤ –ø–µ–Ω–∞–ª—å—Ç–∏, –≤–∞–º –Ω—É–∂–Ω–æ:
    1. –ó–∞–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª  ¬´üé≤ –ú–∏–Ω–∏-–∏–≥—Ä—ã¬ª
    2. –í—ã–±—Ä–∞—Ç—å –∏–≥—Ä—É ¬´‚öΩÔ∏è –ü–µ–Ω–∞–ª—å—Ç–∏¬ª
    3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –∫–æ—Ç–æ—Ä—ã–º –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å—ã–≥—Ä–∞—Ç—å.
    –ò–≥—Ä–æ–∫ –ø—Ä–∏–≥–ª–∞—Å–∏–≤—à–∏–π –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥–µ—Ç –ø–µ—Ä–≤—ã–º –¥–µ–ª–∞—Ç—å —É–¥–∞—Ä—ã. –í—Ç–æ—Ä–æ–π –∏–≥—Ä–æ–∫ –±—É–¥–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å –≤ —Ä–æ–ª–∏ –≤—Ä–∞—Ç–∞—Ä—è, –µ–≥–æ –∑–∞–¥–∞—á–∞: —Å—Ç–∞—Ä–∞—Ç—å—Å—è –≤—ã–±—Ä–∞—Ç—å –≤–µ—Ä–Ω—É—é —Ü–∏—Ñ—Ä—É, —á—Ç–æ–±—ã –ø—Ä—ã–≥–Ω—É—Ç—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —É–≥–æ–ª –∏ –æ—Ç—Ä–∞–∑–∏—Ç—å —É–¥–∞—Ä. –î–∞–ª–µ–µ –≤—ã –º–µ–Ω—è–µ—Ç–µ—Å—å –º–µ—Å—Ç–∞–º–∏, —Ç–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –ø—è—Ç—å —Ä–∞–∑ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞. –í –∏—Ç–æ–≥–µ, –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç —Ç–æ—Ç –∏–≥—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–±–∏–ª –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –º—è—á–µ–π. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏–≥—Ä—ã –≤–æ–∑–º–æ–∂–Ω–∞ –Ω–∏—á—å—è.

    –ó–∞ –∫–∞–∂–¥—É—é –ø–æ–±–µ–¥—É –∏–≥—Ä–æ–∫—É –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è  +25 –±–∞–ª–ª–æ–≤, –∞ –∑–∞ –ø–æ—Ä–∞–∂–µ–Ω–∏–µ —Å–Ω–∏–º–∞–µ—Ç—Å—è -25 –±–∞–ª–ª–æ–≤. –í—Å–µ–º –∏–≥—Ä–æ–∫–∞–º –¥–∞–µ—Ç—Å—è –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ 100. –ó–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –Ω–∏—á—å–µ–π —Ä–µ–π—Ç–∏–Ω–≥ —É –æ–±–æ–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è.
    """
    await c.message.edit_text(dedent(txt), reply_markup=back_to_info_btn)


@router.callback_query(F.data == "about_luckystrike", flags=flags)
async def about_luckystrike_cmd(c: CQ):
    txt = """
    –ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É –≤ —É–¥–∞—á–Ω—ã–π —É–¥–∞—Ä, –≤–∞–º –Ω—É–∂–Ω–æ:
    1. –ó–∞–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª  ¬´üé≤ –ú–∏–Ω–∏-–∏–≥—Ä—ã¬ª
    2. –í—ã–±—Ä–∞—Ç—å –∏–≥—Ä—É ¬´‚òòÔ∏è –£–¥–∞—á–Ω—ã–π —É–¥–∞—Ä¬ª
    3. –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´‚öΩÔ∏è –°–¥–µ–ª–∞—Ç—å —É–¥–∞—Ä¬ª

    ‚òòÔ∏è –£–¥–∞—á–Ω—ã–π —É–¥–∞—Ä - —ç—Ç–æ –º–∏–Ω–∏-–∏–≥—Ä–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ç—ã –¥–µ–ª–∞–µ—à—å 1 —É–¥–∞—Ä –ø–æ –≤–æ—Ä–æ—Ç–∞–º.
    –ï—Å–ª–∏ –∑–∞–±–∏–≤–∞–µ—à—å - –ø–æ–ª—É—á–∞–µ—à—å –æ–¥–Ω—É —Ä–∞–Ω–¥–æ–º–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É.
    –ï—Å–ª–∏ –Ω–µ –∑–∞–±–∏–≤–∞–µ—à—å - –ø—Ä–æ–±—É–µ—à—å –µ—â–µ —á–µ—Ä–µ–∑ 4 —á–∞—Å–∞.
    –í –¥–µ–Ω—å –¥–æ—Å—Ç—É–ø–Ω–æ 2 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏.
    –ï—Å–ª–∏ —Ç–µ–±–µ —Å–µ–≥–æ–¥–Ω—è –≤–µ–∑–µ—Ç –∏ —Ö–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å –±–æ–ª—å—à–µ —É–¥–∞—Ä–æ–≤ –ø–æ –≤–æ—Ä–æ—Ç–∞–º - –º–æ–∂–µ—à—å –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏.
    """
    await c.message.edit_text(dedent(txt), reply_markup=back_to_info_btn)
